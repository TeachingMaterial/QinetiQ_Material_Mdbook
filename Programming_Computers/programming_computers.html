<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Programming a Computer - QinetiQ Material MdBook - University of Greenwich</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

        <!-- MathJax -->
        <script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../Introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><li class="part-title">Session Slides</li><li class="chapter-item expanded "><div><strong aria-hidden="true">1.</strong> Software Considerations</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">2.</strong> Electrica/Electronic Considerations</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Product Design</li><li class="chapter-item expanded "><a href="../ProductDesign/ProductDesign.html"><strong aria-hidden="true">3.</strong> Product Design</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Basics</li><li class="chapter-item expanded "><a href="../Learning_C/Learning_C.html"><strong aria-hidden="true">4.</strong> Learning C</a></li><li class="chapter-item expanded "><a href="../BitwiseOperations/BitwiseOperations.html"><strong aria-hidden="true">5.</strong> Bitewise Operations</a></li><li class="chapter-item expanded "><a href="../ArithmeticOperations/ArithmeticOperations.html"><strong aria-hidden="true">6.</strong> Arithmetic Operations</a></li><li class="chapter-item expanded "><a href="../Recursion/Recursion.html"><strong aria-hidden="true">7.</strong> Recursion</a></li><li class="chapter-item expanded "><a href="../Programming_Computers/programming_computers.html" class="active"><strong aria-hidden="true">8.</strong> Programming a Computer</a></li><li class="chapter-item expanded "><a href="../Communication_Scripts/Communication_Scripts.html"><strong aria-hidden="true">9.</strong> Communication Script</a></li><li class="chapter-item expanded "><a href="../Heli_Code/Heli_Code.html"><strong aria-hidden="true">10.</strong> Heli Code Base</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Intermediate</li><li class="chapter-item expanded "><a href="../HeaderFilesGuardsMacros/HeaderFilesGuardsMacros.html"><strong aria-hidden="true">11.</strong> Header Files, Guards, and Macros</a></li><li class="chapter-item expanded "><a href="../PointersAndAddressing/PointersAndAddressing.html"><strong aria-hidden="true">12.</strong> Pointers and Addressing</a></li><li class="chapter-item expanded "><a href="../UnionsAndStructs/UnionsAndStructs.html"><strong aria-hidden="true">13.</strong> Structs and Unions</a></li><li class="chapter-item expanded "><a href="../Streams/Streams.html"><strong aria-hidden="true">14.</strong> Streams</a></li><li class="chapter-item expanded "><a href="../Algorithms/Algorithms.html"><strong aria-hidden="true">15.</strong> Algorithms</a></li><li class="chapter-item expanded "><div><strong aria-hidden="true">16.</strong> Code Conventions</div></li><li class="chapter-item expanded "><div><strong aria-hidden="true">17.</strong> Documentation</div></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Control</li><li class="chapter-item expanded "><a href="../IntroductionToControl/IntroductionToControl.html"><strong aria-hidden="true">18.</strong> Introduction To Control</a></li><li class="chapter-item expanded "><a href="../PIDControllers/PIDControllers.html"><strong aria-hidden="true">19.</strong> PID Controllers</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">VHDL</li><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Git</li><li class="chapter-item expanded "><a href="../myFirstRepository/myFirstRepository.html"><strong aria-hidden="true">20.</strong> My First Repository</a></li><li class="chapter-item expanded "><a href="../BashAliases/BashAliases.html"><strong aria-hidden="true">21.</strong> Bash Aliases</a></li><li class="chapter-item expanded "><a href="../BranchingModel/BranchingModel.html"><strong aria-hidden="true">22.</strong> Branching-Strategy</a></li><li class="chapter-item expanded "><a href="../OneFlow/OneFlow.html"><strong aria-hidden="true">23.</strong> Git Oneflow</a></li><li class="chapter-item expanded "><a href="../AntiPatterns/AntiPatterns.html"><strong aria-hidden="true">24.</strong> Anti Patterns</a></li><li class="chapter-item expanded "><a href="../ContinousDeployment/ContinousDeployment.html"><strong aria-hidden="true">25.</strong> Continous Deployment</a></li><li class="chapter-item expanded "><a href="../ReleaseDeployment/ReleaseDeployment.html"><strong aria-hidden="true">26.</strong> Release Deployment</a></li><li class="chapter-item expanded "><a href="../Migration/Migration.html"><strong aria-hidden="true">27.</strong> Migration</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">QinetiQ Material MdBook - University of Greenwich</h1>

                    <div class="right-buttons">
                        <a href="https://github.com/TeachingMaterial/QinetiQ_Material_Mdbook" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/TeachingMaterial/QinetiQ_Material_Mdbook/edit/master/content/Programming_Computers/programming_computers.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="programming-computers"><a class="header" href="#programming-computers">Programming Computers</a></h1>
<h1 id="introduction"><a class="header" href="#introduction">Introduction</a></h1>
<p>The <strong>Programming Computers</strong> lab is designed for to experience different programming languages, how they compile and subsequent inputs and outputs. You will develop basic understanding and appreciation of how high level code compiles down to machine code.</p>
<p>We will be using <a href="https://gcc.godbolt.org">https://gcc.godbolt.org</a> which is an interactive compiler exploration website that supports multiple language codes with the functionality to see in real time the compiled code.</p>
<blockquote>
<h4 id="information"><a class="header" href="#information">INFORMATION</a></h4>
<p>Throughout this lab you will can refer to documentation for the source code and the compiled code:</p>
<blockquote>
<ul>
<li><strong>C</strong> -&gt; <a href="https://devdocs.io/c/">https://devdocs.io/c/</a></li>
<li><strong>GCC</strong> -&gt; <a href="https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Preface">https://www.gnu.org/software/gnu-c-manual/gnu-c-manual.html#Preface</a></li>
<li><strong>Python</strong> -&gt; <a href="https://blog.finxter.com/python-cheat-sheet/">https://blog.finxter.com/python-cheat-sheet/</a></li>
<li><strong>Python 3.9 Bytebase</strong> -&gt; <a href="https://docs.python.org/3/library/dis.html#python_base_bytecode_instructions">https://docs.python.org/3/library/dis.html#python_bytecode_instructions</a></li>
<li><strong>Ada</strong> -&gt; <a href="https://docs.adacore.com/live/wave/arm12/html/arm12/arm12.html">https://docs.adacore.com/live/wave/arm12/html/arm12/arm12.html</a></li>
<li><strong>GNAT</strong> -&gt; <a href="https://gcc.gnu.org/onlinedocs/gcc-4.7.4/gnat_ugn_unw.pdf">https://gcc.gnu.org/onlinedocs/gcc-4.7.4/gnat_ugn_unw.pdf</a></li>
</ul>
</blockquote>
</blockquote>
<h2 id="basics-of-c"><a class="header" href="#basics-of-c">Basics of C</a></h2>
<p>Throughout this lab you can refer to documentation for the source code and the compiled code.</p>
<p>Go to <a href="https://gcc.godbolt.org/z/6hTG88doT">https://gcc.godbolt.org/z/6hTG88doT</a> to access a blank script in C.</p>
<p>Once you have loaded this you should see three windows like shown below.</p>
<p>The first window is where you select your language code type in your source code, the second window shows you the complied source code, to the compiler of your choice, and the third window shows output to console/terminal.</p>
<p><img src="Figures/CompilerExplorer.PNG" alt="Compiler Explorer IDE" /></p>
<p>C is one the of foundational code languages upon which many other languages draw lineage from. C like C# uses the same keywords and you will see common syntax. For those who have not experienced C# do not worry, we are going to go step by step.</p>
<p>In order for any program to run C must have a <code>main()</code> function, for this is the entry point for script. All code gets executed in the main, you can create other functions outside of <code>main()</code> and call them inside.</p>
<p>Now you will need to write in the following code as seen below into the first window of <strong>Compiler Explorer</strong> that says C Source.</p>
<pre><code class="language-c">int main()
{
    return 0;
}
</code></pre>
<p>A quick break down of what we are seeing here:</p>
<ul>
<li>Line 1 has the functions name and a returnable keyword, <code>int</code>. This means that when <code>main()</code> executes and reaches the end of the script it will return an integer to indicate it has finished to the hosts environment.</li>
<li>Line 3 introduces the keyword <code>return</code> which will return a value, in this ase 0, an <code>int</code></li>
<li>Lines 2 an 4 have the identifiers <code>{ }</code>, which encapsulates the code into a block. The compiler needs this syntax to understand where a block of code starts and finishes.</li>
</ul>
<p>As you were entering the source code into the window 1, you will have seen the second window compiling the code in real-time. Your assembly
code should look like below.</p>
<pre><code class="language-nasm">main:
  pushq %rbp
  movq %rsp, %rbp
  movl $0, %eax
  popq %rbp
  ret
</code></pre>
<p>The code looks very similar to that of the lecture, keywords/instructions; <code>pushq</code>, <code>movq</code>, <code>movl</code>, <code>popq</code> and <code>ret</code>. So nothing should be new here, even the commands to left of the keywords are very same.</p>
<p>However, the ending letter <code>l</code> and <code>q</code> denotes a 32-bit or 64-bit number respectively.</p>
<p>Not lets see when we add two integers together.</p>
<p>Edit the source code the look like the following:</p>
<pre><code class="language-c">int main()
{
    int a = 5;
    int b = 5;
    int sum = a + b;
    return 0;
}
</code></pre>
<p>Remember just like C#, we declare the data we want our variables to be in this instance <code>int</code> on lines 3 to 5. C is strong typed. We are provide the keyword with an identifier, <code>a</code>, <code>b</code>, and <code>sium</code> and those identifiers
with the values <code>5</code> &amp; <code>5</code> and the result of <code>5 + 5</code>.</p>
<p>Now we can see that the compiled code has changed and should look like below:</p>
<pre><code class="language-nasm">main:
  pushq %rbp
  movq %rsp, %rbp
  movl $5, -4(%rbp)
  movl $5, -8(%rbp)
  movl -4(%rbp), %edx
  movl -8(%rbp), %eax
  addl %edx, %eax
  movl %eax, -12(%rbp)
  movl $0, %eax
  popq %rbp
  ret
</code></pre>
<p>So now we have an extra 6 lines of code to examine, specifically lines 4 to 10.</p>
<p>Firstly, looking at lines 4 and 5, we can see that the value 5 is stored in memory addresses that are 4 and 8 bytes away from the <code>%rbp</code>, recall from the lecture about memory spacing.</p>
<pre><code class="language-nasm">  movl $5, -4(%rbp)
  movl $5, -8(%rbp)
</code></pre>
<p>Next, we can see that lines 6 and 7 reference the addresses of the two values by accessing the addresses located 4 and 8 bytes away from the <code>%rdp</code> and get ready to perform arithmetic operations by storing using <code>%edx</code> and <code>%eax</code>.</p>
<pre><code class="language-nasm">  movl -4(%rbp), %edx
  movl -8(%rbp), %eax
</code></pre>
<p>Ok so finally we can see that lines 8, 9, and 10 deal with the summation of the variables <code>a</code> and <code>b</code>.</p>
<pre><code class="language-nasm">  addl %edx, %eax
  movl %eax, -12(%rbp)
  movl $0, %eax
</code></pre>
<p>Notice we have a new keyword, <code>addl</code>, we are now adding the two values stored in the addresses pointed to by <code>%edx</code> and <code>%eax</code>.</p>
<p>The code then temporarily stores the result in <code>%eax</code> and moves its memory address 12 bytes away from the <code>%rdp</code>. Finally, <code>%eax</code> is zeroed off so it does not point to anything.</p>
<p><strong>CALL TO ACTION</strong></p>
<p>So you add different ways and this can change the output of the compiler. Modify the code so that it looks like the various examples shown below and note the differences in the compiled code:</p>
<pre><code class="language-c">int main()
{
    int a = 5;
    int sum = a + 5;
    return 0;
}
</code></pre>
<pre><code class="language-c">int main()
{
    int sum = 5 + 5;
    return 0;
}
</code></pre>
<p>Let's do something that includes window 3, the console/terminal. As long as you code has been compiling fine the output displayed should be...</p>
<p><code>Program returned: 0</code></p>
<p>So what about if we want to return the result of the summation we have been doing to the console/terminal? Make your source code look like the below.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
int main()
{
    int sum = 5 + 5;
    printf("%d = 5 + 5", sum);
    return 0;
}
</code></pre>
<p>Ok so lets look at the first line, this is new, in order to output information generated by the programmer to the terminal, C needs to <code>"include"</code> a library of functions/code/operations. So we will include 'Standard Input Output' library.</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
</code></pre>
<p>The file extension for this library is <code>.h</code>, in C and C++ libraries and imported code are stored in header files, hence the <code>.h</code>.</p>
<p>If you don't include this library with the source code you will see the error, like below, in window three and if you read the message you are told to include the missing library.</p>
<p><img src="Figures/ConsoleError.PNG" alt="Missing Library" /></p>
<p>Let's look at line 6, we can see we are using a new function that comes from the <code>stdio.h</code> library, <code>printf()</code>.</p>
<pre><code class="language-c">printf("%d = 5 + 5",sum);
</code></pre>
<p>So breaking this down we can see that <code>printf()</code> function currently has two arguments or inputs.</p>
<p>Firstly, we have a <code>string</code>, this is a data type that lets you store a sequence of characters.</p>
<p>The second argument is the identifier <code>sum</code>, remember this is the result of the summation the script performs.</p>
<p>Finally, we have a format specifier in the string <code>%d</code> this means at this position in the string you are promising to provide an variable, in this case an integer(d), <code>sum</code>.</p>
<p>You can see more about format specifiers here,
<a href="https://www.tutorialspoint.com/format-specifiers-in-c">https://www.tutorialspoint.com/format-specifiers-in-c</a>.</p>
<p>Now if we look in the compiler window we can see more code as expected, and certainly some new things.</p>
<pre><code class="language-nasm">.LC0:
  .string "%d = 5 + 5"
main:
  pushq %rbp
  movq %rsp, %rbp
  subq $16, %rsp
  movl $10, -4(%rbp)
  movl -4(%rbp), %eax
  movl %eax, %esi
  movl $.LC0, %edi
  movl $0, %eax
  call printf
  movl $0, %eax
  leave
  ret
</code></pre>
<p>Looking over this code, we can see 5 new lines. The first line <code>.LC0:</code> means local constant, e.g string literal, constants are values that cannot be changed. Line 2, shows <code>string</code> which means here is a string from <code>printf()</code>...</p>
<pre><code class="language-nasm">.LC0:
  .string "%d = 5 + 5"
</code></pre>
<p>The next new line is 6, which reserves 16 bytes of memory for local variables, we have a string now.</p>
<pre><code class="language-nasm">  subq $16, %rsp
</code></pre>
<p>The fourth new line,9, points to the address of the result of the sum to <code>%esi</code>. <code>%esi</code> links to the <code>printf()</code> function where it passes the value of this address into <code>%d</code> format specifier.</p>
<pre><code class="language-nasm">movl %eax, %esi
</code></pre>
<p>The fifth new line is line 10, where the local constant <code>.LC0</code> address is pointed to bb <code>%edi</code>.</p>
<pre><code class="language-nasm">  movl $.LC0, %edi
</code></pre>
<p>Finally, line 12 use a keyword call to the function printf, that is linked to <code>call printf</code></p>
<pre><code class="language-nasm">  call printf
</code></pre>
<hr />
<p><strong>CALL TO ACTION</strong></p>
<p>Modify the code to increment the sum by itself and print to console:</p>
<pre><code class="language-c">#include &lt;stdio.h&gt;
int main()
{
    int sum = 5 + 5;
    printf("%d = 5 + 5\n",sum);
    int sumsum = sum+sum;
    printf("%d = %d + %d\n",sumsum,sum,sum);
    return 0;
}
</code></pre>
<p>Did you know that if you hover over the lines in the source code related compiler code is highlighted.</p>
<p>What differences can you see, in the compiled code?</p>
<hr />
<h2 id="python"><a class="header" href="#python">Python</a></h2>
<p>Now you have a look two basic operations in C and analysed the compile code, lets look at Python which you may find easier to understand.</p>
<p>Unlike C and other languages, Python doesn't need you to define data types, ints, floats, chars, string etc. and therefore is considered loosely typed.</p>
<p>Select Python from the drop down list in the window 1, top right. Or go here...<a href="https://godbolt.org/z/7dbb69Gxh">https://godbolt.org/z/7dbb69Gxh</a></p>
<p>You will probably notice several major differences, and maybe the compiler looks easier to understand?</p>
<p>So we make an easier comparison between C and Python source code and compilers, lets use the same code as before, modify your to look like the below.</p>
<p>Line 1 the keyword,<code>def</code>, defines a function whose name is, <code>main()</code>. Line 2 <code>pass</code>
is essientally a placeholder.</p>
<pre><code class="language-python">def main():
    pass
</code></pre>
<p><strong>CALL TO ACTION</strong></p>
<p>Python is particular about formatting, if code belong inside a function, or block then it must be indented by 4 spaces or tab.</p>
<p>If you look at the IDE there are four faint when you highlight the white space between pass and the left of the word.</p>
<p>So lets look at the compiled code for this function.</p>
<pre><code class="language-nasm">LOAD_CONST      1 (|'|main|')|
MAKE_FUNCTION   0
STORE_NAME      0 (main)
LOAD_CONST      2 (None)
RETURN_VALUE
</code></pre>
<p>So we can see that we have completely different assembly code..., well that isn't a bad thing. Each code language compiles differently. Sometimes these assembly languages are easier to understand as they are written using meaningful words.</p>
<p>Line 1, loads the script as a constant, remember constant is something that isn't allowed to change.</p>
<p>Line 2, takes the name of the first function and loads it in to memory too.</p>
<p>Then the function is made at line 3, <code>MAKE_FUNCTION</code>.</p>
<p><code>STORE_NAME</code> on line 4, creates a name for the function main so that it the function can be reference later.</p>
<p>Remember <code>pass</code>, was a placeholder, well line 6 shows the nothing is to be loaded.</p>
<p>This is much easier to understand right?</p>
<p>Now lets modify the source code again.</p>
<pre><code class="language-python">def main():
    a = 5
    b = 5
    c = 5 + 5   
</code></pre>
<p>So simple enough, three variables that contain whole numbers. This is the same as our C example earlier, though we are not using the identifier sum as we did in C, because in Python <code>sum</code> is a keyword.</p>
<p>We will now look at the compiled code, but only from line 9, as the previous lines are the same as before.</p>
<pre><code class="language-nasm">LOAD_CONST      1 (5)
STORE_FAST      0 (a)

LOAD_CONST      1 (5)
STORE_FAST      1 (b)

LOAD_CONST      2 (10)
STORE_FAST      2 (c)
LOAD_CONST      0 (None)
RETURN_VALUE
</code></pre>
<p>Lines 9, 12 and 15 show that the values of the variables are loaded into memory.</p>
<p>Lines 10, 13 and 16 stores the variable name into the top of the stack (memory).</p>
<p>Much like C's <code>movl $0, %eax</code> python's compiler resets the memory pointer.</p>
<p>Okay, so we are almost there, but we haven't sent anything to the terminal yet, modify your code to look like this.</p>
<pre><code class="language-python">def main():
    a = 5
    b = 5
    c = 5 + 5
    print(c," = ", a, " + ",b)
main()
</code></pre>
<p>So only two new lines, 5 and 6.</p>
<p>On line 5 the <code>printf()</code> function takes each variable (a,b,c) separated by string to produce 10 = 5 + 5.</p>
<p>Line 7, is where we call the function <code>main</code> which will cause all of the code to be executed the output appear in the console/terminal (window 3).</p>
<p>Now lets look at the additional code that has appeared in the compile window.</p>
<p>Line 6 to 10 shows how the the function <code>main</code> is called in line 7 of the source code.</p>
<pre><code class="language-nasm">LOAD_NAME             0 (main)
CALL_FUNCTION         0
POP_TOP
LOAD_CONST            2 (None)
RETURN_VALUE
</code></pre>
<p>You can see that the function is loaded by its name, <code>LOAD_NAME</code>, which was originally stored in memory with <code>STORE_NAME</code> earlier.</p>
<p>The function is then called <code>CALL_FUNCTION</code> and subsequently removed <code>STORE_NAME</code> from the top of the stack (memory).</p>
<h2 id="ada"><a class="header" href="#ada">Ada</a></h2>
<p>Ada is used in a lot of less "popular" use cases where there is a strong focus on security (Ada is extremely strong typed, all data types used must be defined, no intrinsic types) and concurrency (using Ada's task features). The US Department of Defense, which developed Ada, still needs that level of quality for the Space Station and for weapons systems where proper function was a matter of life or death.</p>
<p>You are not likely to use Ada in industry, unless you are working for a space agency or defense, but we should probably look at this language because it is named after Ada Lovelace, who was the first human to write a computer program for the Analytical Engine - a machine that we now call...the computer.</p>
<hr />
<blockquote>
<p><strong>INFORMATION</strong></p>
<blockquote>
<p>Documentation for Ada 2012 is available at:</p>
<ul>
<li><a href="https://docs.adacore.com/live/wave/arm05/html/arm05/arm05.html">https://docs.adacore.com/live/wave/arm05/html/arm05/arm05.html</a></li>
<li>Or Ada 1995 (before some of you were born...) can be found below and provides a nicer interface to look at how the code works, though this version may not have all 2012 edition functions it will provide as good foundation:</li>
<li><a href="https://www.radford.edu/~nokie/classes/320/std_lib_html/">https://www.radford.edu/$\sim$nokie/classes/320/stdlibhtml/</a></li>
</ul>
</blockquote>
</blockquote>
<hr />
<p><strong>CALL TO ACTION</strong></p>
<ol>
<li>
<p>Select Ada from the drop down list in the window 1, top right or go here:</p>
<ul>
<li><a href="https://godbolt.org/z/nrvs9GTvE">https://godbolt.org/z/nrvs9GTvE</a></li>
</ul>
</li>
<li>
<p>Modify the Ada script to look like this...</p>
</li>
</ol>
<pre><code class="language-ada">pragma Source_File_Name (main, Body_File_Name =&gt; "main.adb");

procedure main is

a : Integer := 5;
b : Integer := 5;
c : Integer;
begin

c := a + b;
 
end main;
</code></pre>
<p>Line 1, holds no significance to the compiled code and used to override the normal naming convention of a this script.</p>
<p>Line 3 and 12 wrap the code inside of <code>main()</code> this is so the code we write can actually execute.</p>
<p>Now lets look the following lines of code.</p>
<pre><code class="language-ada">a : Integer := 5;
b : Integer := 5;
c : Integer;
</code></pre>
<p>As stated earlier Ada code language is strongly typed, and as such you have to define the data types for each variable. Unlike C/C++/C#/Java etc. the identifiers <code>a</code>, <code>b</code> and <code>c</code> comes before the data type keyword <code>Integer</code> which is preceded by the assigned value, <code>5</code>, that is compatible with that data type.</p>
<p>So let's look at the assembly code. Well, this should look familiar to you now... if not revisit the earlier section on C.</p>
<pre><code class="language-nasm">_ada_main:
  pushq %rbp #
  movq %rsp, %rbp #,
  movl $5, -4(%rbp) #, a
  movl $5, -8(%rbp) #, b
  movl $10, -12(%rbp) #, c
  nop 
  popq %rbp #
  ret 
</code></pre>
<p>The eagle eyed among you will have noticed there is one new command which is on Line 7.</p>
<pre><code class="language-nasm">nop 
</code></pre>
<p><code>nop</code> is the command for no operation. This is not necessarily a
time-consuming process, the processor might remove it from the pipeline before it reaches the execution stage.</p>
<p>All that remains here is to print information to the console, so modify your code to look like this.</p>
<pre><code class="language-ada">pragma Source_File_Name (main, Body_File_Name =&gt; "main.adb");
with Ada.Integer_Text_IO;use Ada.Integer_Text_IO;

procedure main is

a : Integer := 5;
b : Integer := 5;
c : Integer;
begin

c := a + b;
Put(c);
end main;
</code></pre>
<p>OK so you'll notice that that the only differences are line 2 and line 12.</p>
<p>Line 2, imports some libraries needed to send data to the output,</p>
<pre><code class="language-ada">with Ada.Integer_Text_IO;use Ada.Integer_Text_IO;
</code></pre>
<p>Line 12, use the <code>Put</code> functions to 'put', an integer in this case, to the terminal. Without line 2, we could not output the integer to the console/terminal.</p>
<pre><code class="language-ada">Put(c);
</code></pre>
<p>Ok so now we can look at the assembly code, and much like the compiled C code, we can see familiar commands, keywords and operations. However once again, you may have noticed three new lines?</p>
<pre><code class="language-nasm">_ada_main:
  pushq %rbp #
  movq %rsp, %rbp #,
  subq $16, %rsp #,
  movl $5, -4(%rbp) #, a
  movl $5, -8(%rbp) #, b
  movl $10, -12(%rbp) #, c
  movl ada__integer_text_io__default_base(%rip), %edx #
  movl ada__integer_text_io__default_width(%rip), %eax #
  movl %eax, %esi #
  movl $10, %edi #
  call ada__integer_text_io__put__2  # 
  nop #
  leave # 
  ret #
</code></pre>
<p>There are two new functions <code>Ada__integer_text_io__default_base</code> and <code>ada__integer_text_io__default_width</code>.</p>
<pre><code class="language-nasm">movl ada__integer_text_io__default_base(%rip), %edx #
movl ada__integer_text_io__default_width(%rip), %eax #
</code></pre>
<p>The latter gets the length of the number in bits, so in our case 32-bits or 4 bytes as integers are 4 bytes and former selects the base number, as this an integer we are base 10. There is also a new assembly reference <code>%rip</code>, or register instruction pointer which points to the <code>%edx</code> and <code>%edi</code> memory locations.</p>
<p>Now we can look at the next new line, 12.</p>
<pre><code class="language-nasm">call ada__integer_text_io__put__2  # 
</code></pre>
<p>This function sends the data pointed to by <code>%rip</code> to the console/terminal.</p>
<hr />
<p><strong>CALL TO ACTION</strong></p>
<p>Modify the code to print all variables to the output and see how the assembled code changes and compare the console outputs. If you have an error did you get every new line of code?</p>
<pre><code class="language-ada">pragma Source_File_Name (Square, Body_File_Name =&gt; "main.adb");
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure main is

a : Integer := 5;
b : Integer := 5;
c : Integer;

begin

c := a + b; 

Put(c);
Put(" =");
Put(a);
Put(" +");
Put(b);

end main;
</code></pre>
<pre><code class="language-ada">pragma Source_File_Name (Square, Body_File_Name =&gt; "main.adb");
with Ada.Text_IO; use Ada.Text_IO;
with Ada.Integer_Text_IO; use Ada.Integer_Text_IO;

procedure main is

a : Integer := 5;
b : Integer := 5;
c : Integer;

begin

c := a + b; 

Put_Line(Integer'Image(C) &amp; " =" &amp; Integer'Image(a) &amp; " +"&amp; Integer'Image(b));

end main;
</code></pre>
<hr />
<h2 id="c"><a class="header" href="#c">C#</a></h2>
<p>If you are feeling brave, why not have a go at replicating the lab using C#</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../Recursion/Recursion.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../Communication_Scripts/Communication_Scripts.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../Recursion/Recursion.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../Communication_Scripts/Communication_Scripts.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
